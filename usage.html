

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Usage guide &mdash; HPCStats 1.1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="HPCStats 1.1.0 documentation" href="index.html" />
    <link rel="next" title="API reference" href="api/modules.html" />
    <link rel="prev" title="Configuration" href="configuration.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/modules.html" title="API reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">HPCStats 1.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="usage-guide">
<span id="usage"></span><h1>Usage guide<a class="headerlink" href="#usage-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>hpcstats</strong> [-h &#8211;help] [-c &#8211;conf <em>pathname</em>] [-d &#8211;debug] <em>action</em> <em>options</em></p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>HPCStats is a software to manage a relational database which centralizes the
production usage data of various HPC supercomputers. This command can import
new production data, check data sources availability, modify the content of
the database and generate usage reports with statistics.</p>
</div>
<div class="section" id="actions">
<h2>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h2>
<p>Available actions:</p>
<blockquote>
<div><dl class="docutils">
<dt>import</dt>
<dd>Import new production data and update database incrementally.</dd>
<dt>check</dt>
<dd>Check production data sources availability.</dd>
<dt>modify</dt>
<dd>Modify the content of the database.</dd>
<dt>report</dt>
<dd>Generate usage report with statistics.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="global-options">
<h2>Global options<a class="headerlink" href="#global-options" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>Show help message and exit.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-c <var>FILE</var></span>, <span class="option">--conf=<var>FILE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Alternative configuration file. Default is
<strong>/etc/hpcstats/hpcstats.conf</strong>.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-d</span>, <span class="option">--debug</span></kbd></td>
<td>Enable debug output.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--batch-mode</span></kbd></td>
<td>Set output in batch mode. The outputs are sent to local
syslog server, the standard and errors outputs only get the
messages at the warning level and over. This mode is
particularly usefull for cronjobs because the warnings and
errors are sent by email when needed and administrators get
all output in syslog for further diagnosis.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="import-options">
<h2>Import options<a class="headerlink" href="#import-options" title="Permalink to this headline">¶</a></h2>
<p>Required arguments for <cite>import</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--cluster=<var>CLUSTER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The name of the cluster from which the data will be
imported. Special value <strong>all</strong> can be used to import data
from all configured supercomputers.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="check-options">
<h2>Check options<a class="headerlink" href="#check-options" title="Permalink to this headline">¶</a></h2>
<p>Required arguments for <cite>check</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--cluster=<var>CLUSTER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The name of the cluster for which the data sources will
be checked. Special value <strong>all</strong> can be used to check
data sources for all configured supercomputers.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="modify-options">
<h2>Modify options<a class="headerlink" href="#modify-options" title="Permalink to this headline">¶</a></h2>
<p>Optional arguments for <cite>modify</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--business-code=<var>CODE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The business code to modify.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--project-code=<var>CODE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The project code to modify.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--set-description=<var>DESC</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new description of the business code or the
project.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--set-domain=<var>DOMAIN</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new domain of the project.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--new-domain=<var>DOMAIN</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new domain key to create in database.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--domain-name=<var>NAME</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new domain name to create in database.</td></tr>
</tbody>
</table>
</div></blockquote>
<p>Please refer to <a class="reference internal" href="#examples"><em>Examples</em></a> section to see the possible combinations of the
parameters.</p>
</div>
<div class="section" id="report-options">
<h2>Report options<a class="headerlink" href="#report-options" title="Permalink to this headline">¶</a></h2>
<p><strong>Disclaimer:</strong> This feature must be considered as very experimental!</p>
<p>Required arguments for <cite>report</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--cluster=<var>CLUSTER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The name of the cluster for which the report is
generated.</td></tr>
</tbody>
</table>
</div></blockquote>
<p>Optional arguments for <cite>report</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--interval=<var>ITL</var></span></kbd></td>
<td>The interval used in the report. Default is <strong>day</strong>.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--template=<var>TPL</var></span></kbd></td>
<td>The template to use for the report. Default is <strong>csv</strong>.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="examples">
<span id="id1"></span><h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Import production data of supercomputer HPC-A:</p>
<div class="highlight-python"><pre>hpcstats import --cluster=HPC-A</pre>
</div>
<p>Import production data of all supercomputers:</p>
<div class="highlight-python"><pre>hpcstats import --cluster=all</pre>
</div>
<p>Check supercomputer HPC-B data sources availablity:</p>
<div class="highlight-python"><pre>hpcstats check --cluster=HPC-B</pre>
</div>
<p>Set new description to business code B1:</p>
<div class="highlight-python"><pre>hpcstats modify --business-code=B1 --set-description='new description B1'</pre>
</div>
<p>Set new description to project P1:</p>
<div class="highlight-python"><pre>hpcstats modify --project-code=P1 --set-description='new description P1'</pre>
</div>
<p>Set new domain D1 to project P1:</p>
<div class="highlight-python"><pre>hpcstats modify --project-code=P1 --set-domain=D1</pre>
</div>
<p>Set create new domain D2:</p>
<div class="highlight-python"><pre>hpcstats modify --new-domain=D2 --domain-name='domain name D2'</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Usage guide</a><ul>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#actions">Actions</a></li>
<li><a class="reference internal" href="#global-options">Global options</a></li>
<li><a class="reference internal" href="#import-options">Import options</a></li>
<li><a class="reference internal" href="#check-options">Check options</a></li>
<li><a class="reference internal" href="#modify-options">Modify options</a></li>
<li><a class="reference internal" href="#report-options">Report options</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="previous chapter">Configuration</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="api/modules.html"
                        title="next chapter">API reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/usage.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/modules.html" title="API reference"
             >next</a> |</li>
        <li class="right" >
          <a href="configuration.html" title="Configuration"
             >previous</a> |</li>
        <li><a href="index.html">HPCStats 1.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2015, EDF CCN-HPC.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>