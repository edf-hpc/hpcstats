

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Usage guide &mdash; HPCStats 1.4.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="HPCStats 1.4.0 documentation" href="index.html"/>
        <link rel="next" title="API reference" href="api/modules.html"/>
        <link rel="prev" title="Configuration" href="configuration.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> HPCStats</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#server">Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#agents">Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#error-management">Error management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-sources">From sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#from-debian-packages">From Debian packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#hpcstats-server">HPCStats server</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#agents-and-launcher">Agents and launcher</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Usage guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="#actions">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#global-options">Global options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#import-options">Import options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#check-options">Check options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modify-options">Modify options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#report-options">Report options</a></li>
<li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api/modules.html">API reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/HPCStats.html">HPCStats Package</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">HPCStats</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Usage guide</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/usage.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="usage-guide">
<span id="usage"></span><h1>Usage guide<a class="headerlink" href="#usage-guide" title="Permalink to this headline">¶</a></h1>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">¶</a></h2>
<p><strong>hpcstats</strong> [-h &#8211;help] [-c &#8211;conf <em>pathname</em>] [-d &#8211;debug] <em>action</em> <em>options</em></p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>HPCStats is a software to manage a relational database which centralizes the
production usage data of various HPC supercomputers. This command can import
new production data, check data sources availability, modify the content of
the database and generate usage reports with statistics.</p>
</div>
<div class="section" id="actions">
<h2>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h2>
<p>Available actions:</p>
<blockquote>
<div><dl class="docutils">
<dt>import</dt>
<dd>Import new production data and update database incrementally.</dd>
<dt>check</dt>
<dd>Check production data sources availability.</dd>
<dt>modify</dt>
<dd>Modify the content of the database.</dd>
<dt>report</dt>
<dd>Generate usage report with statistics.</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="global-options">
<h2>Global options<a class="headerlink" href="#global-options" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></td>
<td>Show help message and exit.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">-c <var>FILE</var></span>, <span class="option">--conf=<var>FILE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Alternative configuration file. Default is
<strong>/etc/hpcstats/hpcstats.conf</strong>.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-d</span>, <span class="option">--debug</span></kbd></td>
<td>Enable debug output.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--batch-mode</span></kbd></td>
<td>Set output in batch mode. The outputs are sent to local
syslog server, the standard and errors outputs only get the
messages at the warning level and over. This mode is
particularly usefull for cronjobs because the warnings and
errors are sent by email when needed and administrators get
all output in syslog for further diagnosis.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="import-options">
<h2>Import options<a class="headerlink" href="#import-options" title="Permalink to this headline">¶</a></h2>
<p>Required arguments for <cite>import</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--cluster=<var>CLUSTER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The name of the cluster from which the data will be
imported. Special value <strong>all</strong> can be used to import data
from all configured supercomputers.</td></tr>
</tbody>
</table>
<p class="attribution">&mdash;since-event=DATE Import events starting from this date for new clusters. The
date must be formatted like YYYY-MM-DD. Default is
<strong>1970-01-01</strong>.</p>
</div></blockquote>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--since-jobid=<var>ID</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>Import jobs starting from this internal job id for new
clusters. The job id must an integer. Default is <strong>-1</strong>.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="check-options">
<h2>Check options<a class="headerlink" href="#check-options" title="Permalink to this headline">¶</a></h2>
<p>Required arguments for <cite>check</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--cluster=<var>CLUSTER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The name of the cluster for which the data sources will
be checked. Special value <strong>all</strong> can be used to check
data sources for all configured supercomputers.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="modify-options">
<h2>Modify options<a class="headerlink" href="#modify-options" title="Permalink to this headline">¶</a></h2>
<p>Optional arguments for <cite>modify</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--business-code=<var>CODE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The business code to modify.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--project-code=<var>CODE</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The project code to modify.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--set-description=<var>DESC</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new description of the business code or the
project.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--set-domain=<var>DOMAIN</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new domain of the project.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--new-domain=<var>DOMAIN</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new domain key to create in database.</td></tr>
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--domain-name=<var>NAME</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The new domain name to create in database.</td></tr>
</tbody>
</table>
</div></blockquote>
<p>Please refer to <a class="reference internal" href="#examples"><em>Examples</em></a> section to see the possible combinations of the
parameters.</p>
</div>
<div class="section" id="report-options">
<h2>Report options<a class="headerlink" href="#report-options" title="Permalink to this headline">¶</a></h2>
<p><strong>Disclaimer:</strong> This feature must be considered as very experimental!</p>
<p>Required arguments for <cite>report</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group" colspan="2">
<kbd><span class="option">--cluster=<var>CLUSTER</var></span></kbd></td>
</tr>
<tr><td>&nbsp;</td><td>The name of the cluster for which the report is
generated.</td></tr>
</tbody>
</table>
</div></blockquote>
<p>Optional arguments for <cite>report</cite> action:</p>
<blockquote>
<div><table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">--interval=<var>ITL</var></span></kbd></td>
<td>The interval used in the report. Default is <strong>day</strong>.</td></tr>
<tr><td class="option-group">
<kbd><span class="option">--template=<var>TPL</var></span></kbd></td>
<td>The template to use for the report. Default is <strong>csv</strong>.</td></tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="examples">
<span id="id1"></span><h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Import production data of supercomputer HPC-A:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats import --cluster=HPC-A
</pre></div>
</div>
<p>Import production data of all supercomputers:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats import --cluster=all
</pre></div>
</div>
<p>Check supercomputer HPC-B data sources availablity:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats check --cluster=HPC-B
</pre></div>
</div>
<p>Set new description to business code B1:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats modify --business-code=B1 --set-description=&#39;new description B1&#39;
</pre></div>
</div>
<p>Set new description to project P1:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats modify --project-code=P1 --set-description=&#39;new description P1&#39;
</pre></div>
</div>
<p>Set new domain D1 to project P1:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats modify --project-code=P1 --set-domain=D1
</pre></div>
</div>
<p>Set create new domain D2:</p>
<div class="highlight-python"><div class="highlight"><pre>hpcstats modify --new-domain=D2 --domain-name=&#39;domain name D2&#39;
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api/modules.html" class="btn btn-neutral float-right" title="API reference"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="configuration.html" class="btn btn-neutral" title="Configuration"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, EDF CCN-HPC.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>