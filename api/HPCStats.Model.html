

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Model Package &mdash; HPCStats 1.4.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="HPCStats 1.4.0 documentation" href="../index.html"/>
        <link rel="up" title="HPCStats Package" href="HPCStats.html"/>
        <link rel="next" title="Tests Package" href="HPCStats.Tests.html"/>
        <link rel="prev" title="Log Package" href="HPCStats.Log.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> HPCStats</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#database">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#server">Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#agents">Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture.html#error-management">Error management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#from-sources">From sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation.html#from-debian-packages">From Debian packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#hpcstats-server">HPCStats server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration.html#agents-and-launcher">Agents and launcher</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#synopsis">Synopsis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#description">Description</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#actions">Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#global-options">Global options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#import-options">Import options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#check-options">Check options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#modify-options">Modify options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#report-options">Report options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../usage.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="HPCStats.html">HPCStats Package</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">HPCStats</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="modules.html">API reference</a> &raquo;</li>
      
          <li><a href="HPCStats.html">HPCStats Package</a> &raquo;</li>
      
    <li>Model Package</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/api/HPCStats.Model.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="model-package">
<h1>Model Package<a class="headerlink" href="#model-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-HPCStats.Model.Account">
<span id="account-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Account</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Account" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Account</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Account</span><span class="p">(</span>
  <span class="n">account_uid</span>      <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">account_gid</span>      <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">account_creation</span> <span class="nb">date</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">account_deletion</span> <span class="nb">date</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">userhpc_id</span>       <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>       <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Account_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">userhpc_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Account.Account">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Account.</tt><tt class="descname">Account</tt><big>(</big><em>user</em>, <em>cluster</em>, <em>uid</em>, <em>gid</em>, <em>creation_date</em>, <em>deletion_date</em>, <em>exists=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.Account" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Account table.</p>
<dl class="method">
<dt id="HPCStats.Model.Account.Account.existing">
<tt class="descname">existing</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.Account.existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the account already exists in database (same cluster
and user), or False if not.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Account.Account.load">
<tt class="descname">load</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.Account.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the Account based on the content of the DB and set objects
attributes accordingly. It calls existing() method if needed and
raises HPCStatsRuntimeError if the Account is not found in DB.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Account.Account.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.Account.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Account in database. It first makes sure that the Account
does not already exist in database yet by calling Account.existing()
method if needed. If the account already exists in database, it
raises HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Account.Account.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.Account.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Account uid, gid, creation date and deletion date in
database. Raises HPCStatsRuntimeError is exists is False.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Account.load_unclosed_users_accounts">
<tt class="descclassname">HPCStats.Model.Account.</tt><tt class="descname">load_unclosed_users_accounts</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.load_unclosed_users_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Load (User,Account) tuples w/o account deletion date on cluster from
DB.</p>
</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Account.nb_existing_accounts">
<tt class="descclassname">HPCStats.Model.Account.</tt><tt class="descname">nb_existing_accounts</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Account.nb_existing_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of existing account for the cluster in DB.</p>
</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Business">
<span id="business-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Business</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Business" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Business</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Business</span><span class="p">(</span>
  <span class="n">business_code</span>        <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">business_description</span> <span class="nb">text</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Business_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">business_code</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Business.Business">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Business.</tt><tt class="descname">Business</tt><big>(</big><em>code</em>, <em>description</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Business.Business" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Business table.</p>
<dl class="method">
<dt id="HPCStats.Model.Business.Business.existing">
<tt class="descname">existing</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Business.Business.existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the business already exists in database (with same
code), or False if not.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Business.Business.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Business.Business.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Business in database. It first makes sure that the Business
does not already exist in database yet by calling
Business.existing() method if needed. If the business already exists
in database, it raises HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Business.Business.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Business.Business.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Business description in database. Raises HPCStatsRuntimeError
if exists is False.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Cluster">
<span id="cluster-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Cluster</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Cluster" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Cluster</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">Cluster</span><span class="p">(</span>
  <span class="n">cluster_id</span>   <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">cluster_name</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Cluster_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">cluster_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Cluster_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">cluster_name</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Cluster.Cluster">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Cluster.</tt><tt class="descname">Cluster</tt><big>(</big><em>name</em>, <em>cluster_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for Cluster table</p>
<dl class="method">
<dt id="HPCStats.Model.Cluster.Cluster.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the Cluster in the database based on its name. If exactly
one cluster matches in database, set cluster_id attribute properly
and returns its value. If more than one cluster matches, raises
HPCStatsDBIntegrityError. If no cluster is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Cluster.Cluster.get_min_datetime">
<tt class="descname">get_min_datetime</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster.get_min_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the start datetime of the oldest started and unfinished
job on the cluster.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Cluster.Cluster.get_nb_accounts">
<tt class="descname">get_nb_accounts</tt><big>(</big><em>db</em>, <em>creation_date</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster.get_nb_accounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total of users on the cluster whose account have been
created defore date given in parameter.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Cluster.Cluster.get_nb_active_users">
<tt class="descname">get_nb_active_users</tt><big>(</big><em>db</em>, <em>start</em>, <em>end</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster.get_nb_active_users" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total number of users who have run job(s) on the cluster
between start and end datetimes in parameters.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Cluster.Cluster.get_nb_cpus">
<tt class="descname">get_nb_cpus</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster.get_nb_cpus" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the total number of CPUs available on the cluster</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Cluster.Cluster.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Cluster.Cluster.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Cluster in database. You must make sure that the Cluster does
not already exist in database yet (typically using Cluster.find()
method else there is a risk of future integrity errors because of
duplicated clusters. If cluster_id attribute is set, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Domain">
<span id="domain-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Domain</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Domain" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Domain</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="k">Domain</span><span class="p">(</span>
  <span class="n">domain_id</span>   <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">domain_name</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Domain_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">domain_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Domain_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">domain_name</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Domain.Domain">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Domain.</tt><tt class="descname">Domain</tt><big>(</big><em>key</em>, <em>name</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Domain.Domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Domain table.</p>
<dl class="method">
<dt id="HPCStats.Model.Domain.Domain.existing">
<tt class="descname">existing</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Domain.Domain.existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the domain already exists in database (same key), or
False if not.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Domain.Domain.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Domain.Domain.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Domain in database. It first makes sure that the Domain does
not already exist in database yet by calling Domain.existing()
method if needed. If the domain already exists in database, it
raises HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Domain.Domain.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Domain.Domain.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Domain name in database. Raises HPCStatsRuntimeError if
exists is False.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Event">
<span id="event-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Event</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Event" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Event</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Event</span><span class="p">(</span>
  <span class="n">event_id</span>     <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">event_type</span>   <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">event_reason</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
  <span class="n">event_nbCpu</span>  <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">event_start</span>  <span class="k">timestamp</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">event_end</span>    <span class="k">timestamp</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">node_id</span>      <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>   <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Event_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">event_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Event_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">,</span> <span class="n">event_start</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Event.Event">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Event.</tt><tt class="descname">Event</tt><big>(</big><em>cluster</em>, <em>node</em>, <em>nb_cpu</em>, <em>start_datetime</em>, <em>end_datetime</em>, <em>event_type</em>, <em>reason</em>, <em>event_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Event table.</p>
<dl class="method">
<dt id="HPCStats.Model.Event.Event.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.Event.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the Event in the database based on the node, the cluster,
the start and the end datetime. If exactly one event matches in
database, set event_id attribute properly and returns its value.
If more than one event matches, raises HPCStatsDBIntegrityError.
If no event is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Event.Event.merge_event">
<tt class="descname">merge_event</tt><big>(</big><em>event</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.Event.merge_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Set Event end datetime equals to event in parameter end datetime.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Event.Event.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.Event.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Event in database. You must make sure that the Event does not
already exist in database yet (typically using Event.find() method
else there is a risk of future integrity errors because of
duplicated events. If event_id attribute is set, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Event.Event.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.Event.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Event in DB. The event_id attribute must be set for the
Event, either by passing this id to __init__() or by calling
Event.find() method previously. If event_id attribute is not set, it
raises HPCStatsRuntimeError.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Event.get_datetime_end_last_event">
<tt class="descclassname">HPCStats.Model.Event.</tt><tt class="descname">get_datetime_end_last_event</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.get_datetime_end_last_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the end datetime of the last event on the cluster in DB. Returns
None if no event found.</p>
</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Event.get_datetime_start_oldest_unfinished_event">
<tt class="descclassname">HPCStats.Model.Event.</tt><tt class="descname">get_datetime_start_oldest_unfinished_event</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.get_datetime_start_oldest_unfinished_event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the start datetime of the oldest event on the cluster in DB.
Returns None if no unfinished event found.</p>
</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Event.get_unfinished_events">
<tt class="descclassname">HPCStats.Model.Event.</tt><tt class="descname">get_unfinished_events</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Event.get_unfinished_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the list of unfinished Events on the cluster out of DB. Returns None
if no unfinished event found.</p>
</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.FSUsage">
<span id="fsusage-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">FSUsage</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.FSUsage" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">fsusage</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">fsusage</span><span class="p">(</span>
  <span class="n">fsusage_time</span>   <span class="k">timestamp</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">fsusage_usage</span>  <span class="nb">real</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">fsusage_inode</span>  <span class="nb">real</span><span class="p">,</span>
  <span class="n">filesystem_id</span>  <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">fsusage_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">fsusage_time</span><span class="p">,</span> <span class="n">filesystem_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.FSUsage.FSUsage">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.FSUsage.</tt><tt class="descname">FSUsage</tt><big>(</big><em>filesystem</em>, <em>timestamp</em>, <em>usage</em>, <em>inode</em><big>)</big><a class="headerlink" href="#HPCStats.Model.FSUsage.FSUsage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the fsusage table.</p>
<dl class="method">
<dt id="HPCStats.Model.FSUsage.FSUsage.existing">
<tt class="descname">existing</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.FSUsage.FSUsage.existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the FSUsage already exists in database (same cluster,
filesystem and timestamp), or False if not.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.FSUsage.FSUsage.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.FSUsage.FSUsage.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert FSUsage in database. It first makes sure that the FSUsage
does not already exist in database yet by calling FSUsage.existing()
method if needed. If the fsusage already exists in database, it
raises HPCStatsRuntimeError.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.FSUsage.get_last_fsusage_datetime">
<tt class="descclassname">HPCStats.Model.FSUsage.</tt><tt class="descname">get_last_fsusage_datetime</tt><big>(</big><em>db</em>, <em>cluster</em>, <em>filesystem</em><big>)</big><a class="headerlink" href="#HPCStats.Model.FSUsage.get_last_fsusage_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the datetime of the last fsusage for the fs in DB.</p>
</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Filesystem">
<span id="filesystem-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Filesystem</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Filesystem" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">filesystem</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">filesystem</span><span class="p">(</span>
  <span class="n">filesystem_id</span>   <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">filesystem_name</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>      <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">filesystem_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">filesystem_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">filesystem_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">filesystem_name</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Filesystem.Filesystem">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Filesystem.</tt><tt class="descname">Filesystem</tt><big>(</big><em>mountpoint</em>, <em>cluster</em>, <em>fs_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Filesystem.Filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the filesystem table.</p>
<dl class="method">
<dt id="HPCStats.Model.Filesystem.Filesystem.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Filesystem.Filesystem.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the Filesystem in the database based on its mountpoint and
cluster. If exactly one filesystem matches in database, set fs_id
attribute properly and returns its value. If more than one
filesystem matches, raises HPCStatsDBIntegrityError. If no
filesystem is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Filesystem.Filesystem.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Filesystem.Filesystem.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Filesystem in database. You must make sure that the
Filesystem does not already exist in database yet (typically using
Filesystem.find() method else there is a risk of future integrity
errors because of duplicated filesystems. If fs_id attribute is set,
it raises HPCStatsRuntimeError.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Job">
<span id="job-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Job</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Job" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Job</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Job</span><span class="p">(</span>
  <span class="n">job_id</span>         <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">job_sched_id</span>   <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">job_batch_id</span>   <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">job_nbCpu</span>      <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">job_name</span>       <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">200</span><span class="p">),</span>
  <span class="n">job_state</span>      <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">job_queue</span>      <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
  <span class="n">job_account</span>    <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
  <span class="n">job_submission</span> <span class="k">timestamp</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">job_start</span>      <span class="k">timestamp</span><span class="p">,</span>
  <span class="n">job_end</span>        <span class="k">timestamp</span><span class="p">,</span>
  <span class="n">userhpc_id</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">project_id</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">business_code</span>  <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Job_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">job_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Job_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">job_batch_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Job.Job">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Job.</tt><tt class="descname">Job</tt><big>(</big><em>account</em>, <em>project</em>, <em>business</em>, <em>sched_id</em>, <em>batch_id</em>, <em>name</em>, <em>nbcpu</em>, <em>state</em>, <em>queue</em>, <em>job_acct</em>, <em>submission</em>, <em>start</em>, <em>end</em>, <em>job_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Job.Job" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Cluster table.</p>
<dl class="method">
<dt id="HPCStats.Model.Job.Job.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Job.Job.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the Job in the database based on its sched_id and cluster. If
exactly one job matches in database, set job_id attribute properly
and returns its value. If more than one job matches, raises
HPCStatsDBIntegrityError. If no job is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Job.Job.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Job.Job.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Job in database. You must make sure that the Job does not
already exist in database yet (typically using Job.find() method
else there is a risk of future integrity errors because of
duplicated jobs. If job_id attribute is set, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Job.Job.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Job.Job.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Job sched_id, nbcpu, name, state, queue, submission, start and
end in database. Raises HPCStatsRuntimeError if self.job_id is None.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Job.get_batchid_last_job">
<tt class="descclassname">HPCStats.Model.Job.</tt><tt class="descname">get_batchid_last_job</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Job.get_batchid_last_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the batch_id of the last job recorded in HPCStats DB as an
integer. Returns None if not found.</p>
</dd></dl>

<dl class="function">
<dt id="HPCStats.Model.Job.get_batchid_oldest_unfinished_job">
<tt class="descclassname">HPCStats.Model.Job.</tt><tt class="descname">get_batchid_oldest_unfinished_job</tt><big>(</big><em>db</em>, <em>cluster</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Job.get_batchid_oldest_unfinished_job" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the batch_id of the oldest unfinished job recorded in
HPCStats DB as an integer. Returns None if not found.</p>
</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Node">
<span id="node-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Node</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Node" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Node</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Node</span><span class="p">(</span>
  <span class="n">node_id</span>        <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">node_name</span>      <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">node_model</span>     <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">node_nbCpu</span>     <span class="nb">integer</span><span class="p">,</span>
  <span class="n">node_partition</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">node_flops</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">node_memory</span>    <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Node_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Node_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">node_name</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Node.Node">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Node.</tt><tt class="descname">Node</tt><big>(</big><em>name</em>, <em>cluster</em>, <em>model</em>, <em>partition</em>, <em>cpu</em>, <em>memory</em>, <em>flops</em>, <em>node_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Node.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Node table.</p>
<dl class="method">
<dt id="HPCStats.Model.Node.Node.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Node.Node.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the Node in the database based on its name and cluster. If
exactly one node matches in database, set node_id attribute properly
and returns its value. If more than one node matches, raises
HPCStatsDBIntegrityError. If no node is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Node.Node.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Node.Node.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Node in database. You must make sure that the Node does not
already exist in database yet (typically using Node.find() method
else there is a risk of future integrity errors because of
duplicated nodes. If node_id attribute is set, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Node.Node.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Node.Node.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Node partition, cpu, memory and flops fields in database.
Raises HPCStatsRuntimeError if self.node_id is None.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Project">
<span id="project-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Project</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Project" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Project</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Project</span><span class="p">(</span>
  <span class="n">project_id</span>          <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">project_code</span>        <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">project_description</span> <span class="nb">text</span><span class="p">,</span>
  <span class="n">domain_id</span>           <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Project_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">project_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Project_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">project_code</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Project.Project">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Project.</tt><tt class="descname">Project</tt><big>(</big><em>domain</em>, <em>code</em>, <em>description</em>, <em>project_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Project.Project" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Project table</p>
<dl class="method">
<dt id="HPCStats.Model.Project.Project.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Project.Project.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the Project in the database based on its code. If exactly
one project matches in database, set project_id attribute properly
and returns its value. If more than one project matches, raises
HPCStatsDBIntegrityError. If no project is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Project.Project.load">
<tt class="descname">load</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Project.Project.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the Project based on the content of the DB and set objects
attributes accordingly. The project_id attribute must have been
set previously, typically by calling find() method. It raises
raises HPCStatsRuntimeError if the Project is not found in DB.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Project.Project.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Project.Project.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Project in database. You must make sure that the Project does
not already exist in database yet (typically using Project.find()
method else there is a risk of future integrity errors because of
duplicated clusters. If project_id attribute is set, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Project.Project.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Project.Project.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Project description field in database. Raises
HPCStatsRuntimeError if self.project_id is None.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.Run">
<span id="run-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">Run</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.Run" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Run</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Run</span><span class="p">(</span>
  <span class="n">job_id</span>         <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">node_id</span>        <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">cluster_id</span>     <span class="nb">integer</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="k">CONSTRAINT</span> <span class="n">Run_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">job_id</span><span class="p">,</span> <span class="n">node_id</span><span class="p">,</span> <span class="n">cluster_id</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.Run.Run">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.Run.</tt><tt class="descname">Run</tt><big>(</big><em>cluster</em>, <em>node</em>, <em>job</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Run.Run" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Run table.</p>
<dl class="method">
<dt id="HPCStats.Model.Run.Run.existing">
<tt class="descname">existing</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Run.Run.existing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if theRunt already exists in database (same cluster,
node and job), or False if not.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.Run.Run.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.Run.Run.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert Run in database. It first makes sure that the Run does not
already exist in database yet by calling Run.existing() method if
needed. If the Run already exists in database, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-HPCStats.Model.User">
<span id="user-module"></span><h2><tt class="xref py py-mod docutils literal"><span class="pre">User</span></tt> Module<a class="headerlink" href="#module-HPCStats.Model.User" title="Permalink to this headline">¶</a></h2>
<p>Schema of the <tt class="docutils literal"><span class="pre">Userhpc</span></tt> table in HPCStats database:</p>
<div class="highlight-sql"><div class="highlight"><pre><span class="n">Userhpc</span><span class="p">(</span>
  <span class="n">userhpc_id</span>         <span class="nb">SERIAL</span><span class="p">,</span>
  <span class="n">userhpc_login</span>      <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">userhpc_name</span>       <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">userhpc_firstname</span>  <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
  <span class="n">userhpc_department</span> <span class="nb">character</span> <span class="nb">varying</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Userhpc_pkey</span> <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="n">userhpc_id</span><span class="p">),</span>
  <span class="k">CONSTRAINT</span> <span class="n">Userhpc_unique</span> <span class="k">UNIQUE</span> <span class="p">(</span><span class="n">userhpc_login</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
<dl class="class">
<dt id="HPCStats.Model.User.User">
<em class="property">class </em><tt class="descclassname">HPCStats.Model.User.</tt><tt class="descname">User</tt><big>(</big><em>login</em>, <em>firstname</em>, <em>lastname</em>, <em>department</em>, <em>user_id=None</em><big>)</big><a class="headerlink" href="#HPCStats.Model.User.User" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Model class for the Userhpc table.</p>
<dl class="method">
<dt id="HPCStats.Model.User.User.find">
<tt class="descname">find</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.User.User.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the User in the database based on its login. If exactly
one user matches in database, set user_id attribute properly
and returns its value. If more than one user matches, raises
HPCStatsDBIntegrityError. If no user is found, returns None.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.User.User.save">
<tt class="descname">save</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.User.User.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert User in database. You must make sure that the User does
not already exist in database yet (typically using User.find()
method else there is a risk of future integrity errors because of
duplicated users. If user_id attribute is set, it raises
HPCStatsRuntimeError.</p>
</dd></dl>

<dl class="method">
<dt id="HPCStats.Model.User.User.update">
<tt class="descname">update</tt><big>(</big><em>db</em><big>)</big><a class="headerlink" href="#HPCStats.Model.User.User.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update User firstname, lastname and department fields in database.
Raises HPCStatsRuntimeError is user_id is None.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="HPCStats.Tests.html" class="btn btn-neutral float-right" title="Tests Package"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="HPCStats.Log.html" class="btn btn-neutral" title="Log Package"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2017, EDF CCN-HPC.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.4.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>